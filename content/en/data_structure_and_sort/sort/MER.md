---
date: 2020-10-16T12:00:08+09:00
description: "æˆ˜ç•¥ä¸Šè—è§†æŠ€æœ¯ï¼Œæˆ˜æœ¯ä¸Šé‡è§†æŠ€æœ¯â€”â€”é—ªå®¢"
image: "images/recommend_site/xingyouji.jpg"
title: "å½’å¹¶æ’åº"
author: è¯¸è‘›é’
authorEmoji: ğŸ¤–
pinned: false
tags:
- æ’åºç®—æ³•
series:
-   
---

``çº¦ç¿°Â·å†¯Â·è¯ºä¼Šæ›¼``åœ¨ 1945 å¹´æå‡ºäº†``å½’å¹¶æ’åº``ã€‚åœ¨è®²è§£å½’å¹¶æ’åºä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä¸€èµ·æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š``å¦‚ä½•å°†ä¸¤ä¸ªæœ‰åºçš„åˆ—è¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºçš„åˆ—è¡¨ï¼Ÿ``

## å°†ä¸¤ä¸ªæœ‰åºçš„åˆ—è¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºçš„åˆ—è¡¨

è¿™å¤ªç®€å•äº†ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ€è·¯å°±æ˜¯ï¼Œå°†ä¸¤ä¸ªåˆ—è¡¨æ‹¼æ¥æˆä¸€ä¸ªåˆ—è¡¨ï¼Œç„¶åä¹‹å‰å­¦çš„``å†’æ³¡``ã€``é€‰æ‹©``ã€``æ’å…¥``ã€``å¸Œå°”``ã€``å †``ã€``å¿«æ’``éƒ½å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ã€‚

è§‰å¾—å¤ªæš´åŠ›äº†ä¸€ç‚¹ï¼Ÿé‚£æˆ‘ä»¬æ¢ä¸ªæ€è·¯ã€‚

æ—¢ç„¶åˆ—è¡¨å·²ç»æœ‰åºäº†ï¼Œé€šè¿‡å‰å‡ ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œ``æ’å…¥æ’åºçš„è¿‡ç¨‹ä¸­``ï¼Œ``è¢«æ’å…¥çš„æ•°ç»„ä¹Ÿæ˜¯æœ‰åºçš„``ã€‚è¿™å°±å¥½åŠäº†ï¼Œæˆ‘ä»¬å°†``å…¶ä¸­ä¸€ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ ``é€ä¸ª``æ’å…¥å¦ä¸€ä¸ªåˆ—è¡¨``ä¸­å³å¯ã€‚

ä½†æ˜¯æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªåˆ—è¡¨æœ‰åºå°±è¡Œäº†ï¼Œå¦ä¸€ä¸ªåˆ—è¡¨ä¸ç®¡æ˜¯ä¸æ˜¯æœ‰åºçš„ï¼Œéƒ½ä¼šè¢«é€ä¸ªå–å‡ºæ¥ï¼Œæ’å…¥ç¬¬ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚é‚£ä¹ˆï¼Œåœ¨ä¸¤ä¸ªåˆ—è¡¨éƒ½å·²ç»æœ‰åºçš„æƒ…å†µä¸‹ï¼Œè¿˜å¯ä»¥æœ‰æ›´ä¼˜çš„åˆå¹¶æ–¹æ¡ˆå—ï¼Ÿ

æ·±å…¥æ€è€ƒä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œåœ¨ç¬¬äºŒä¸ªåˆ—è¡¨å‘ç¬¬ä¸€ä¸ªåˆ—è¡¨é€ä¸ªæ’å…¥çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºç¬¬äºŒä¸ªåˆ—è¡¨å·²ç»æœ‰åºï¼Œæ‰€ä»¥åç»­æ’å…¥çš„å…ƒç´ ä¸€å®šä¸ä¼šåœ¨å‰é¢æ’å…¥çš„å…ƒç´ ä¹‹å‰ã€‚åœ¨é€ä¸ªæ’å…¥çš„è¿‡ç¨‹ä¸­ï¼Œ``æ¯æ¬¡æ’å…¥æ—¶``ï¼Œåªéœ€è¦``ä»ä¸Šæ¬¡æ’å…¥çš„ä½ç½®å¼€å§‹``ï¼Œç»§ç»­``å‘åå¯»æ‰¾æ’å…¥ä½ç½®``å³å¯ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æœ€å¤šåªéœ€è¦å°†ä¸¤ä¸ªæœ‰åºæ•°ç»„``éå†ä¸€æ¬¡``å°±å¯ä»¥å®Œæˆåˆå¹¶ã€‚

æ€è·¯å¾ˆæ¥è¿‘äº†ï¼Œå¦‚ä½•å®ç°å®ƒå‘¢ï¼Ÿæˆ‘ä»¬å‘ç°ï¼Œåœ¨å‘æ•°ç»„ä¸­ä¸æ–­æ’å…¥æ–°æ•°å­—æ—¶ï¼Œ``åŸæ•°ç»„éœ€è¦ä¸æ–­è…¾å‡ºä½ç½®``ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„è¿‡ç¨‹ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹å¿…ç„¶å¯¼è‡´å¢åŠ ä¸€è½®éå†ã€‚

ä½†å¥½åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆï¼šåªè¦``å¼€è¾Ÿä¸€ä¸ªé•¿åº¦ç­‰åŒäºä¸¤ä¸ªæ•°ç»„é•¿åº¦ä¹‹å’Œçš„æ–°æ•°ç»„``ï¼Œå¹¶``ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ``æ¥``éå†``åŸæœ‰çš„``ä¸¤ä¸ªæ•°ç»„``ï¼Œ``ä¸æ–­``å°†è¾ƒå°çš„æ•°å­—``æ·»åŠ åˆ°æ–°æ•°ç»„``ä¸­ï¼Œå¹¶``ç§»åŠ¨å¯¹åº”çš„æŒ‡é’ˆ``å³å¯ã€‚

æ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºåˆå¹¶ä¸¤ä¸ªæœ‰åºåˆ—è¡¨çš„ä»£ç ï¼š
{{< codes golang java>}}

  {{< code >}}

  ```golang
// å°†ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„
func merge(arr1,arr2 []int)[]int{
    //è¿”å›çš„æœ‰åºçš„ç»“æœæ•°ç»„
    res := make([]int,len(arr1)+len(arr2))
	//éå†ä¸¤ä¸ªæ•°ç»„çš„æŒ‡é’ˆ
    index1,index2 := 0,0
    //éå†	
	for index1 < len(arr1) && index2 < len(arr2){
		if arr1[index1]<=arr2[index2]{
			res[index1+index2] = arr1[index1]
			index1++
		}else{
			res[index1+index2] = arr2[index2]
			index2++
		}
	}
    // å°†å‰©ä½™æ•°å­—è¡¥åˆ°ç»“æœæ•°ç»„ä¹‹å
	for index1 < len(arr1){
		res[index1+index2] = arr1[index1]
		index1++
	}

	for index2 < len(arr2){
		res[index1+index2] = arr2[index2]
		index2++
	}
	return res
}
  ```
  {{< /code >}}

  {{< code >}}

  ```java
// å°†ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„
private static int[] merge(int[] arr1, int[] arr2) {
    int[] result = new int[arr1.length + arr2.length];
    int index1 = 0, index2 = 0;
    while (index1 < arr1.length && index2 < arr2.length) {
        if (arr1[index1] <= arr2[index2]) {
            result[index1 + index2] = arr1[index1];
            index1++;
        } else {
            result[index1 + index2] = arr2[index2];
            index2++;
        }
    }
    // å°†å‰©ä½™æ•°å­—è¡¥åˆ°ç»“æœæ•°ç»„ä¹‹å
    while (index1 < arr1.length) {
        result[index1 + index2] = arr1[index1];
        index1++;
    }
    while (index2 < arr2.length) {
        result[index1 + index2] = arr2[index2];
        index2++;
    }
    return result;
}
  ```
    {{< /code >}}
{{< /codes >}}

åˆå¹¶æœ‰åºæ•°ç»„çš„é—®é¢˜è§£å†³äº†ï¼Œä½†æˆ‘ä»¬æ’åºæ—¶ç”¨çš„éƒ½æ˜¯``æ— åºæ•°ç»„``ï¼Œé‚£ä¹ˆä¸Šå“ªé‡Œå»``æ‰¾è¿™ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„å‘¢ï¼Ÿ``

ç­”æ¡ˆæ˜¯ â€”â€” ``è‡ªå·±æ‹†åˆ†``ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•°ç»„ä¸æ–­åœ°æ‹†æˆä¸¤ä»½ï¼Œç›´åˆ°``åªå‰©ä¸‹ä¸€ä¸ªæ•°å­—``æ—¶ï¼Œ``è¿™ä¸€ä¸ªæ•°å­—ç»„æˆçš„æ•°ç»„æˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºå®ƒæ˜¯æœ‰åºçš„``ã€‚

ç„¶åé€šè¿‡ä¸Šè¿°åˆå¹¶æœ‰åºåˆ—è¡¨çš„æ€è·¯ï¼Œ``å°† 1 ä¸ªæ•°å­—ç»„æˆçš„æœ‰åºæ•°ç»„````åˆå¹¶æˆä¸€ä¸ªåŒ…å« 2 ä¸ªæ•°å­—çš„æœ‰åºæ•°ç»„``ï¼Œ``å†å°† 2 ä¸ªæ•°å­—ç»„æˆçš„æœ‰åºæ•°ç»„åˆå¹¶æˆåŒ…å« 4 ä¸ªæ•°å­—çš„æœ‰åºæ•°ç»„...ç›´åˆ°æ•´ä¸ªæ•°ç»„æ’åºå®Œæˆ``ï¼Œ``è¿™å°±æ˜¯å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰çš„æ€æƒ³``ã€‚

##  å°†æ•°ç»„æ‹†åˆ†æˆæœ‰åºæ•°ç»„
æ‹†åˆ†è¿‡ç¨‹ä½¿ç”¨äº†äºŒåˆ†çš„æ€æƒ³ï¼Œè¿™æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå½’å¹¶æ’åºä½¿ç”¨çš„é€’å½’æ¡†æ¶å¦‚ä¸‹ï¼š

{{< codes golang java>}}

  {{< code >}}

  ```golang
//å½’å¹¶æ’åº
func mergeSort(arr []int){
	if len(arr) <= 1{
		return
	}
	//æŠŠç»“æœå­˜å…¥resä¸­
	res := mergeRescurison(arr,0,len(arr)-1)
	for i:=0;i<len(arr);i++{
		arr[i] = res[i]
	}

}
//æ‹†åˆ†æ•°ç»„
func mergeRescurison(arr []int,start,end int)[]int{
	if start >= end{//é€’å½’ç»ˆæ­¢æ¡ä»¶
		return []int{arr[start]}
	}
	
	//å·¦åŒºé—´é€’å½’
	left := mergeRescurison(arr,start,(start+end)/2)
	//å³åŒºé—´é€’å½’
	right := mergeRescurison(arr,(start+end)/2+1,end)
	//å°†ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶
	return merge(left,right)
}

  ```
  {{< /code >}}

  {{< code >}}

  ```java
public static void mergeSort(int[] arr) {
    if (arr.length == 0) return;
    int[] result = mergeSort(arr, 0, arr.length - 1);
    // å°†ç»“æœæ‹·è´åˆ° arr æ•°ç»„ä¸­
    for (int i = 0; i < result.length; i++) {
        arr[i] = result[i];
    }
}

// å¯¹ arr çš„ [start, end] åŒºé—´å½’å¹¶æ’åº
private static int[] mergeSort(int[] arr, int start, int end) {
    // åªå‰©ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œåœæ­¢æ‹†åˆ†ï¼Œè¿”å›å•ä¸ªæ•°å­—ç»„æˆçš„æ•°ç»„
    if (start == end) return new int[]{arr[start]};
    int middle = (start + end) / 2;
    // æ‹†åˆ†å·¦è¾¹åŒºåŸŸ
    int[] left = mergeSort(arr, start, middle);
    // æ‹†åˆ†å³è¾¹åŒºåŸŸ
    int[] right = mergeSort(arr, middle + 1, end);
    // åˆå¹¶å·¦å³åŒºåŸŸ
    return merge(left, right);
}
  ```
  {{< /code >}}
{{< /codes >}}

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå°†åŸæœ‰æ•°ç»„``ä¸æ–­åœ°äºŒåˆ†``ï¼Œç›´åˆ°``åªå‰©ä¸‹æœ€åä¸€ä¸ªæ•°å­—``ã€‚æ­¤æ—¶åµŒå¥—çš„é€’å½’å¼€å§‹è¿”å›ï¼Œä¸€å±‚å±‚åœ°è°ƒç”¨mergeå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆšæ‰å†™çš„å°†ä¸¤ä¸ªæœ‰åºæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„çš„å‡½æ•°ã€‚

è¿™å°±æ˜¯``æœ€ç»å…¸çš„å½’å¹¶æ’åº``ï¼Œåªéœ€è¦``ä¸€ä¸ªäºŒåˆ†æ‹†æ•°ç»„çš„é€’å½’å‡½æ•°``å’Œ``ä¸€ä¸ªåˆå¹¶ä¸¤ä¸ªæœ‰åºåˆ—è¡¨çš„å‡½æ•°``å³å¯ã€‚

å½’å¹¶æ’åºåˆ†æˆä¸¤æ­¥:
* ``ä¸€æ˜¯æ‹†åˆ†æ•°ç»„``
* ``äºŒæ˜¯åˆå¹¶æ•°ç»„``

ä½†è¿™ä»½ä»£ç è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œé‚£å°±æ˜¯åœ¨é€’å½’è¿‡ç¨‹ä¸­ï¼Œå¼€è¾Ÿäº†å¾ˆå¤šä¸´æ—¶ç©ºé—´ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹ä¸‹å®ƒçš„``ä¼˜åŒ–è¿‡ç¨‹``ã€‚

## å½’å¹¶æ’åºçš„ä¼˜åŒ–ï¼šå‡å°‘ä¸´æ—¶ç©ºé—´çš„å¼€è¾Ÿ

ä¸ºäº†å‡å°‘åœ¨é€’å½’è¿‡ç¨‹ä¸­ä¸æ–­å¼€è¾Ÿç©ºé—´çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å½’å¹¶æ’åºä¹‹å‰ï¼Œå…ˆå¼€è¾Ÿå‡ºä¸€ä¸ªä¸´æ—¶ç©ºé—´ï¼Œåœ¨é€’å½’è¿‡ç¨‹ä¸­ç»Ÿä¸€ä½¿ç”¨æ­¤ç©ºé—´è¿›è¡Œå½’å¹¶å³å¯ã€‚
ä»£ç å¦‚ä¸‹ï¼š

{{< codes golang java>}}

  {{< code >}}

  ```golang
func mergeSort(arr []int){
	if len(arr) <= 1{
		return
	}
	//è¾…åŠ©æ•°ç»„
	res := make([]int,len(arr))
	mergeRescurison(arr,0,len(arr)-1,res)
}

func mergeRescurison(arr []int,start,end int,res []int){
	if start >= end{
		return 
	}
	middle := (start+end)/2
    // æ‹†åˆ†å·¦è¾¹åŒºåŸŸï¼Œå¹¶å°†å½’å¹¶æ’åºçš„ç»“æœä¿å­˜åˆ° result çš„ [start, middle] åŒºé—´
	mergeRescurison(arr,start,middle,res)
	// æ‹†åˆ†å³è¾¹åŒºåŸŸï¼Œå¹¶å°†å½’å¹¶æ’åºçš„ç»“æœä¿å­˜åˆ° result çš„ [middle + 1, end] åŒºé—´
    mergeRescurison(arr,middle+1,end,res)
    // åˆå¹¶å·¦å³åŒºåŸŸåˆ° result çš„ [start, end] åŒºé—´
    merge(arr,start,end,res)
}

// å°† result çš„ [start, middle] å’Œ [middle + 1, end] åŒºé—´åˆå¹¶
func merge(arr []int,start,end int,res []int){
	middle := (start+end)/2
	// æ•°ç»„ 1 çš„é¦–å°¾ä½ç½®
	start1,end1 := start,middle
	// æ•°ç»„ 2 çš„é¦–å°¾ä½ç½®
	start2,end2 := middle+1,end
    // ç”¨æ¥éå†æ•°ç»„çš„æŒ‡é’ˆ
	index1 := start1
	index2 := start2
    // ç»“æœæ•°ç»„çš„æŒ‡é’ˆ
	resIndex := start
	for index1 <= end1 && index2 <= end2{
		if arr[index1] <= arr[index2]{
			res[resIndex] = arr[index1] 
			index1++
			resIndex++
		}else{
			res[resIndex] = arr[index2] 
			index2++
			resIndex++
		}
	} 
	//æŠŠå‰©ä½™çš„æ•°å­—ç§»åˆ°æ•°ç»„é‡Œé¢å»
	for index1 <= end1{
		res[resIndex] = arr[index1] 
		index1++
		resIndex++
	}
	
	for index2 <= end2{
		res[index1+index2-start2] = arr[index2] 
		index2++
		resIndex++
	}
	// å°† result æ“ä½œåŒºé—´çš„æ•°å­—æ‹·è´åˆ° arr æ•°ç»„ä¸­ï¼Œä»¥ä¾¿ä¸‹æ¬¡æ¯”è¾ƒ
    for i := start; i <= end; i++{
        arr[i] = res[i]
	}

}
  ```
  {{< /code >}}

  {{< code >}}

  ```java
public static void mergeSort(int[] arr) {
    if (arr.length == 0) return;
    int[] result = new int[arr.length];
    mergeSort(arr, 0, arr.length - 1, result);
}

// å¯¹ arr çš„ [start, end] åŒºé—´å½’å¹¶æ’åº
private static void mergeSort(int[] arr, int start, int end, int[] result) {
    // åªå‰©ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œåœæ­¢æ‹†åˆ†
    if (start == end) return;
    int middle = (start + end) / 2;
    // æ‹†åˆ†å·¦è¾¹åŒºåŸŸï¼Œå¹¶å°†å½’å¹¶æ’åºçš„ç»“æœä¿å­˜åˆ° result çš„ [start, middle] åŒºé—´
    mergeSort(arr, start, middle, result);
    // æ‹†åˆ†å³è¾¹åŒºåŸŸï¼Œå¹¶å°†å½’å¹¶æ’åºçš„ç»“æœä¿å­˜åˆ° result çš„ [middle + 1, end] åŒºé—´
    mergeSort(arr, middle + 1, end, result);
    // åˆå¹¶å·¦å³åŒºåŸŸåˆ° result çš„ [start, end] åŒºé—´
    merge(arr, start, end, result);
}

// å°† result çš„ [start, middle] å’Œ [middle + 1, end] åŒºé—´åˆå¹¶
private static void merge(int[] arr, int start,  int end, int[] result) {
    int middle = (start + end) / 2;
    // æ•°ç»„ 1 çš„é¦–å°¾ä½ç½®
    int start1 = start;
    int end1 = middle;
    // æ•°ç»„ 2 çš„é¦–å°¾ä½ç½®
    int start2 = middle + 1;
    int end2 = end;
    // ç”¨æ¥éå†æ•°ç»„çš„æŒ‡é’ˆ
    int index1 = start1;
    int index2 = start2;
    // ç»“æœæ•°ç»„çš„æŒ‡é’ˆ
    int resultIndex = start1;
    while (index1 <= end1 && index2 <= end2) {
        if (arr[index1] <= arr[index2]) {
            result[resultIndex++] = arr[index1++];
        } else {
            result[resultIndex++] = arr[index2++];
        }
    }
    // å°†å‰©ä½™æ•°å­—è¡¥åˆ°ç»“æœæ•°ç»„ä¹‹å
    while (index1 <= end1) {
        result[resultIndex++] = arr[index1++];
    }
    while (index2 <= end2) {
        result[resultIndex++] = arr[index2++];
    }
    // å°† result æ“ä½œåŒºé—´çš„æ•°å­—æ‹·è´åˆ° arr æ•°ç»„ä¸­ï¼Œä»¥ä¾¿ä¸‹æ¬¡æ¯”è¾ƒ
    for (int i = start; i <= end; i++) {
        arr[i] = result[i];
    }
}
  ```
  {{< /code >}}
{{< /codes >}}

åœ¨è¿™ä»½ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»Ÿä¸€ä½¿ç”¨``result æ•°ç»„ä½œä¸ºé€’å½’è¿‡ç¨‹ä¸­çš„ä¸´æ—¶æ•°ç»„``ï¼Œæ‰€ä»¥merge å‡½æ•°æ¥æ”¶çš„å‚æ•°``ä¸å†æ˜¯ä¸¤ä¸ªæ•°ç»„``ï¼Œè€Œæ˜¯ result æ•°ç»„ä¸­éœ€è¦åˆå¹¶çš„``ä¸¤ä¸ªæ•°ç»„çš„é¦–å°¾ä¸‹æ ‡``ã€‚æ ¹æ®é¦–å°¾ä¸‹æ ‡å¯ä»¥åˆ†åˆ«è®¡ç®—å‡ºä¸¤ä¸ªæœ‰åºæ•°ç»„çš„é¦–å°¾ä¸‹æ ‡ start1ã€end1ã€start2ã€end2ï¼Œä¹‹åçš„è¿‡ç¨‹å°±å’Œä¹‹å‰åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä»£ç ç±»ä¼¼äº†ã€‚

è¿™ä»½ä»£ç è¿˜å¯ä»¥``å†ç²¾ç®€ä¸€ä¸‹``ï¼Œæˆ‘ä»¬å¯ä»¥``å»æ‰ä¸€äº›ä¸ä¼šæ”¹å˜çš„ä¸´æ—¶å˜é‡``ã€‚æ¯”å¦‚ start1 å§‹ç»ˆç­‰äº startï¼Œend2 å§‹ç»ˆç­‰äº endï¼Œend1 å§‹ç»ˆç­‰äº middleã€‚å¹¶ä¸”åˆ†æå¯çŸ¥ï¼Œ``resultIndex çš„å€¼å§‹ç»ˆç­‰äº start åŠ ä¸Š index1 å’Œ index2 ç§»åŠ¨çš„è·ç¦»``ã€‚å³ï¼š

{{< codes golang java>}}

  {{< code >}}

  ```golang
resultIndex = start + (index1 - start1) + (index2 - start2)
  ```
  {{< /code >}}

  {{< code >}}

  ```java
resultIndex = start + (index1 - start1) + (index2 - start2)
  ```
  {{< /code >}}
{{< /codes >}}

å°† start1 == start ä»£å…¥ï¼ŒåŒ–ç®€å¾—ï¼š

{{< codes golang java>}}

  {{< code >}}

  ```golang
resultIndex = index1 + index2 - start2
  ```
  {{< /code >}}

  {{< code >}}

  ```java
resultIndex = index1 + index2 - start2
  ```
  {{< /code >}}
{{< /codes >}}

æ‰€ä»¥æœ€ç»ˆçš„å½’å¹¶æ’åºä»£ç å¦‚ä¸‹ï¼š
{{< codes golang java>}}

  {{< code >}}

  ```golang
func mergeSort(arr []int){
	if len(arr) <= 1{
		return
	}
	//è¾…åŠ©æ•°ç»„
	res := make([]int,len(arr))
	mergeRescurison(arr,0,len(arr)-1,res)
}

func mergeRescurison(arr []int,start,end int,res []int){
	if start >= end{
		return 
	}
	middle := (start+end)/2
    // æ‹†åˆ†å·¦è¾¹åŒºåŸŸï¼Œå¹¶å°†å½’å¹¶æ’åºçš„ç»“æœä¿å­˜åˆ° result çš„ [start, middle] åŒºé—´
	mergeRescurison(arr,start,middle,res)
	// æ‹†åˆ†å³è¾¹åŒºåŸŸï¼Œå¹¶å°†å½’å¹¶æ’åºçš„ç»“æœä¿å­˜åˆ° result çš„ [middle + 1, end] åŒºé—´
    mergeRescurison(arr,middle+1,end,res)
    // åˆå¹¶å·¦å³åŒºåŸŸåˆ° result çš„ [start, end] åŒºé—´
    merge(arr,start,end,res)
}

func merge(arr []int,start,end int,res []int){
	end1 := (start+end)/2
	start2 := end1 + 1
	index1,index2:= start,start2
	//æ•°ç»„æŒ‡é’ˆä¸ºstart + (index1-start1) + (index2 -(middlex+1))
	for index1 <= end1 && index2 <= end{
		if arr[index1] <= arr[index2]{
			res[index1+index2-start2] = arr[index1] 
			index1++
		}else{
			res[index1+index2-start2] = arr[index2] 
			index2++
		}
	} 
	//æŠŠå‰©ä½™çš„æ•°å­—ç§»åˆ°æ•°ç»„é‡Œé¢å»
	for index1 <= end1{
		res[index1+index2-start2] = arr[index1] 
		index1++
	}
	
	for index2 <= end{
		res[index1+index2-start2] = arr[index2] 
		index2++
	}
	//å°†åˆå¹¶æ’åºåçš„æ•°ç»„ç»™arr
	for start <= end{
		arr[start] = res[start]
		start++
	}
}
  ```
  {{< /code >}}

  {{< code >}}

  ```java
public static void mergeSort(int[] arr) {
    if (arr.length == 0) return;
    int[] result = new int[arr.length];
    mergeSort(arr, 0, arr.length - 1, result);
}

// å¯¹ arr çš„ [start, end] åŒºé—´å½’å¹¶æ’åº
private static void mergeSort(int[] arr, int start, int end, int[] result) {
    // åªå‰©ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œåœæ­¢æ‹†åˆ†
    if (start == end) return;
    int middle = (start + end) / 2;
    // æ‹†åˆ†å·¦è¾¹åŒºåŸŸï¼Œå¹¶å°†å½’å¹¶æ’åºçš„ç»“æœä¿å­˜åˆ° result çš„ [start, middle] åŒºé—´
    mergeSort(arr, start, middle, result);
    // æ‹†åˆ†å³è¾¹åŒºåŸŸï¼Œå¹¶å°†å½’å¹¶æ’åºçš„ç»“æœä¿å­˜åˆ° result çš„ [middle + 1, end] åŒºé—´
    mergeSort(arr, middle + 1, end, result);
    // åˆå¹¶å·¦å³åŒºåŸŸåˆ° result çš„ [start, end] åŒºé—´
    merge(arr, start, end, result);
}

// å°† result çš„ [start, middle] å’Œ [middle + 1, end] åŒºé—´åˆå¹¶
private static void merge(int[] arr, int start, int end, int[] result) {
    int end1 = (start + end) / 2;
    int start2 = end1 + 1;
    // ç”¨æ¥éå†æ•°ç»„çš„æŒ‡é’ˆ
    int index1 = start;
    int index2 = start2;
    while (index1 <= end1 && index2 <= end) {
        if (arr[index1] <= arr[index2]) {
            result[index1 + index2 - start2] = arr[index1++];
        } else {
            result[index1 + index2 - start2] = arr[index2++];
        }
    }
    // å°†å‰©ä½™æ•°å­—è¡¥åˆ°ç»“æœæ•°ç»„ä¹‹å
    while (index1 <= end1) {
        result[index1 + index2 - start2] = arr[index1++];
    }
    while (index2 <= end) {
        result[index1 + index2 - start2] = arr[index2++];
    }
    // å°† result æ“ä½œåŒºé—´çš„æ•°å­—æ‹·è´åˆ° arr æ•°ç»„ä¸­ï¼Œä»¥ä¾¿ä¸‹æ¬¡æ¯”è¾ƒ
    while (start <= end) {
        arr[start] = result[start++];
    }
}
  ```
  {{< /code >}}
{{< /codes >}}

ç‰ºç‰²äº†ä¸€äº›å¯è¯»æ€§ï¼Œä»£ç å˜å¾—ç²¾ç®€äº†ä¸å°‘ã€‚åŠ¨å›¾æ¼”ç¤ºå¦‚ä¸‹ï¼š

{{< figure src="/images/sort_gif/MER.gif" >}}

## æ—¶é—´å¤æ‚åº¦ & ç©ºé—´å¤æ‚åº¦

å½’å¹¶æ’åºçš„å¤æ‚åº¦æ¯”è¾ƒå®¹æ˜“åˆ†æï¼Œæ‹†åˆ†æ•°ç»„çš„è¿‡ç¨‹ä¸­ï¼Œä¼š``å°†æ•°ç»„æ‹†åˆ†lognæ¬¡``ï¼Œæ¯å±‚æ‰§è¡Œçš„æ¯”è¾ƒæ¬¡æ•°éƒ½``çº¦ç­‰äºnæ¬¡``ï¼Œæ‰€ä»¥``æ—¶é—´å¤æ‚åº¦æ˜¯ O(nlogn)``ã€‚

``ç©ºé—´å¤æ‚åº¦æ˜¯ O(n)``ï¼Œä¸»è¦å ç”¨ç©ºé—´çš„å°±æ˜¯æˆ‘ä»¬åœ¨æ’åºå‰åˆ›å»ºçš„``é•¿åº¦ä¸º n çš„ result æ•°ç»„``ã€‚

## ç¨³å®šæ€§

åˆ†æå½’å¹¶çš„è¿‡ç¨‹å¯çŸ¥ï¼Œå½’å¹¶æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºç®—æ³•ã€‚å…¶ä¸­ï¼Œå¯¹ç®—æ³•ç¨³å®šæ€§éå¸¸é‡è¦çš„ä¸€è¡Œä»£ç æ˜¯ï¼š

{{< codes golang java>}}

  {{< code >}}

  ```golang
if arr[index1] <= arr[index2]{
    res[index1 + index2 - start2] = arr[index1]
    index1++
}
  ```
  {{< /code >}}

  {{< code >}}

  ```java
if (arr[index1] <= arr[index2]) {
    result[index1 + index2 - start2] = arr[index1++];
}
  ```
  {{< /code >}}
{{< /codes >}}
åœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡``arr[index1] <= arr[index2]``æ¥åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œä¿è¯äº†åŸæ•°ç»„ä¸­ï¼Œ``ç›¸åŒçš„å…ƒç´ ç›¸å¯¹é¡ºåºä¸ä¼šå˜åŒ–``ï¼Œå¦‚æœè¿™é‡Œçš„æ¯”è¾ƒæ¡ä»¶``å†™æˆäº†arr[index1] < arr[index2]``ï¼Œåˆ™å½’å¹¶æ’åºå°†å˜å¾—ä¸ç¨³å®šã€‚

