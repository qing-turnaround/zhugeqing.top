---
date: 2021-11-24
description: "一个工厂：进程，工厂里面的工人：线程"
image: "images/recommend_site/xingyouji.jpg"
title: "进程和线程"
author: 诸葛青
authorEmoji: 🎅
pinned: false
tags:
- 操作系统题目
series:
- 
---

## 1. 进程与线程有什么区别

``了解进程与线程``——>[进程与线程的一个简单解释](http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html)

#### 答：
<font color=SkyBlue>

* 调度：进程是资源管理的基本单位，线程是程序执行的基本单位

* 拥有资源：进程是拥有资源的一个独立单位，线程不拥有资源，只拥有一点在运行中必不可少的资源（如程序计数器,一组寄存器和栈），和同属于本进程的线程共享本进程的资源（cpu，I/O，内存等）
* 切换：进程上下文切换比线程上下文切换要快得多。（因为进程切换需要保存进程当前的整个环境的保存和被调度运行的新进程环境的设置，而线程切换只需要保存和设置少量的寄存器）
* 系统开销：创建或撤销进程时，系统都要为之分配和回收系统资源，如内存空间，I/O设备等，操作系统所付出的开销显著大于在创建或撤销线程的开销，所以进程的切换开销也远大于线程切换的开销
* 通信：线程之间的通信更方便，同一进程下的线程共享全局变量等数据，而进程之间的通信需要以进程间通信(IPC)的方式进行
* 线程依赖于进程而存在，一个进程至少有一个线程

* 多线程程序只要有一个线程崩溃，整个程序就崩溃了，但多进程程序中一个进程崩溃并不会对其它进程造成影响，因为进程有自己的独立地址空间，因此多进程更加健壮

</font>


### 同一进程中的线程可以共享哪些数据？
<details>
<summary>展开答案</summary>

- ``进程代码段``
- ``进程的公有数据（全局变量、静态变量...）``
- ``进程打开的文件描述符``
- ``进程的当前目录``
- ``信号处理器/信号处理函数：对收到的信号的处理方式``
- ``进程ID与进程组ID``
</details>

##### 线程独占哪些资源？
<details>
<summary>展开</summary>

- ``线程ID``
- ``一组寄存器的值``
- ``线程自身的栈（堆是共享的）``
- ``错误返回码：线程可能会产生不同的错误返回码，一个线程的错误返回码不应该被其它线程修改``
- ``信号掩码/信号屏蔽字(Signal mask)：表示是否屏蔽/阻塞相应的信号（SIGKILL,SIGSTOP除外）``
</details>