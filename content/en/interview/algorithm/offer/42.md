---
date: 2020-12-13
description: "å¦‚æœè¯´æ•°å­¦æ˜¯çš‡å† ä¸Šçš„ä¸€é¢—æ˜ç ï¼Œé‚£ä¹ˆç®—æ³•å°±æ˜¯è¿™é¢—æ˜ç ä¸Šçš„å…‰èŠ’ï¼Œç®—æ³•è®©è¿™é¢—æ˜ç æ›´åŠ ç† ç† ç”Ÿè¾‰ï¼Œä¸ºç§‘æŠ€è¿›æ­¥å’Œç¤¾ä¼šå‘å±•ç…§äº®äº†å‰è¿›çš„è·¯"
image: "images/recommend_site/xingyouji.jpg"
title: "å‰‘æŒ‡ Offer 40. æœ€å°çš„kä¸ªæ•°"
author: è¯¸è‘›é’
authorEmoji: ğŸ…
pinned: false
tags:
- ç®—æ³•
series:
-  
---
[é¢˜ç›®å…¥å£](https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/)

<font color=CadetBlue size=3 >éš¾åº¦ï¼šç®€å•</font>

<font color=#008000>è§£é¢˜æ€è·¯ï¼šTop ké—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨å †å’Œå¿«é€Ÿæ’åºæ€æƒ³è§£å†³</font>

## åŸºäºå¿«æ’æ€æƒ³çš„å¿«é€Ÿé€‰æ‹©
```golang
func getLeastNumbers(arr []int, k int) []int {
    if len(arr)==0 || k==0 {
        return nil
    }

    return quicksearch(arr, 0, len(arr)-1, k)
}

func partition(nums []int,i,j int) int {
    l,m,r:=i,i,j
    for l<r {
        for l<r && nums[r]>=nums[m] {
                r--
        }
        for l<r && nums[l]<=nums[m] {
                l++
        }
        if l<r {
            nums[l],nums[r]=nums[r],nums[l]
        }
    }
    nums[m],nums[l]=nums[l],nums[m]
    
    return l
}

func quicksearch(nums []int,i,j,k int) []int{
    
    middle:=partition(nums,i,j)

    if middle==k-1 {
        return nums[:k]
    }

    if middle<k-1 {
        return quicksearch(nums,middle+1,j,k)
    }


    return quicksearch(nums,i,middle-1,k)
    
}
```

## å †æ’åº
```golang
func getLeastNumbers(arr []int, k int) []int {
    if k == 0 {
        return []int{}
    }

    if len(arr) == k || len(arr) == 0{
        return arr
    }

    minHeapSort(arr,k)//å…ˆå †æ’åº

    return arr[len(arr)-k:]
}
func swap(nums []int, i, j int) {
	if nums[i] == nums[j]{
		return
	}
	nums[i] = nums[i] ^ nums[j]
	nums[j] = nums[j] ^ nums[i]
	nums[i] = nums[i] ^ nums[j]
}
//å°é¡¶å †
func minHeapSort(nums []int,k int) {
	buildMinheap(nums) //åˆå»ºé¡¶å †
	//éœ€è¦è°ƒæ•´å †k-1æ¬¡ï¼ˆåˆå»ºå †å·²ç»å®Œæˆä¸€æ¬¡ï¼‰
    n := len(nums)
	for i := len(nums) - 1; i >= n-k; i-- {

        swap(nums, 0, i)

        //æœ€åä¸€æ¬¡æ— éœ€è°ƒæ•´
        if i == n-k{
            break
        }
		minHeapify(nums, 0, i)
	}

}

func buildMinheap(nums []int) {
	for i := len(nums)/2 - 1; i >= 0; i-- { //å»ºåˆå †
		minHeapify(nums, i, len(nums))
	}

}

func minHeapify(nums []int, index, heapSize int) {
	//è°ƒæ•´å †
	l := (index<<1) + 1
	r := l + 1
	smallest := index

	if l < heapSize && nums[l] < nums[smallest] {
		smallest = l
	}

	if r < heapSize && nums[r] < nums[smallest] {
		smallest = r
	}

	if smallest != index {
		//äº¤æ¢,ä½¿å…¶æ»¡è¶³æœ€å°å †æ€§è´¨
		swap(nums, smallest, index)
		//å‘ä¸‹é€’å½’è°ƒæ•´
		minHeapify(nums, smallest, heapSize)
	}

}
```