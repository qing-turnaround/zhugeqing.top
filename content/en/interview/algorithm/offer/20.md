---
date: 2020-12-13
description: "å¦‚æœè¯´æ•°å­¦æ˜¯çš‡å† ä¸Šçš„ä¸€é¢—æ˜ç ï¼Œé‚£ä¹ˆç®—æ³•å°±æ˜¯è¿™é¢—æ˜ç ä¸Šçš„å…‰èŠ’ï¼Œç®—æ³•è®©è¿™é¢—æ˜ç æ›´åŠ ç† ç† ç”Ÿè¾‰ï¼Œä¸ºç§‘æŠ€è¿›æ­¥å’Œç¤¾ä¼šå‘å±•ç…§äº®äº†å‰è¿›çš„è·¯"
image: "images/recommend_site/xingyouji.jpg"
title: "å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²"
author: è¯¸è‘›é’
authorEmoji: ğŸ…
pinned: false
tags:
- ç®—æ³•
series:
-  
---
[é¢˜ç›®å…¥å£](https://leetcode-cn.com/problems/biao-shi-shu-zhi-de-zi-fu-chuan-lcof/)

<font color=CadetBlue size=3 >éš¾åº¦ï¼šä¸­ç­‰</font>

<font color=Turquoise size=4>è§£é¢˜æ€è·¯ï¼š
1.é‡‡ç”¨if-elseçš„å½¢å¼æŠŠæ‰€æœ‰æƒ…å†µåˆ—ä¸¾å‡ºæ¥ï¼›
2.é‡‡ç”¨æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œç”»å‡ºçŠ¶æ€è½¬æ¢å›¾ï¼Œå†åŒ–æˆä»£ç (æƒ…å†µè¾ƒå¤šï¼Œéœ€å¤šæ¬¡å°è¯•)</font>

```golang
type State int
type CharType int

const (
    state_start State = iota //å¼€å§‹
    state_sign  //ç¬¦å·ä½
    state_int   //æ•´æ•°
    state_point     //å°æ•°ç‚¹
    state_withoutInt_point //å·¦ä¾§æ²¡æœ‰æ•´æ•°çš„å°æ•°ç‚¹
    state_float  //å°æ•°éƒ¨åˆ†
    state_exp  //å­—ç¬¦E/e
    state_exp_sign  //æŒ‡æ•°çš„ç¬¦å·
    state_exp_int //æŒ‡æ•°çš„æ•´æ•°éƒ¨åˆ†
    state_end //ç»“æŸ
)

const (
    char_intger CharType = iota //æ•´æ•°
    char_exp //æŒ‡æ•°ç¬¦å·e/E
    char_point //å°æ•°ç‚¹
    char_sign  //æ­£è´Ÿå·
    char_space //ç©ºæ ¼
    char_illegal //ä¸åˆæ³•çš„å­—ç¬¦ 
)

func toCharType(ch byte) CharType {
    switch ch {
    case '0', '1', '2', '3', '4', '5', '6', '7', '8', '9':
        return char_intger
    case 'e', 'E':
        return char_exp
    case '.':
        return char_point
    case '+', '-':
        return char_sign
    case ' ':
        return char_space
    default:
        return char_illegal
    }
}

func isNumber(s string) bool {
    //çŠ¶æ€è½¬ç§»å›¾
    transfer := map[State]map[CharType]State{
        state_start : map[CharType]State{
            char_space : state_start,
            char_sign : state_sign,
            char_intger : state_int,
            char_point : state_withoutInt_point,
        },
        state_sign : map[CharType]State{
            char_intger : state_int,
            char_point : state_withoutInt_point,
        },
        state_int : map[CharType]State{
            char_point : state_point,
            char_intger : state_int,
            char_exp : state_exp,
            char_space : state_end,
        },
        state_point : map[CharType]State{
            char_intger : state_float,
            char_exp : state_exp,
            char_space : state_end,
        },
        state_withoutInt_point : map[CharType]State{
            char_intger : state_float,
        },
        state_float : map[CharType]State{
            char_intger : state_float,
            char_exp : state_exp,
            char_space : state_end,
        },
        state_exp : map[CharType]State{
            char_sign : state_exp_sign,
            char_intger : state_exp_int,
        },
        state_exp_sign : map[CharType]State{
            char_intger : state_exp_int,
        },
        state_exp_int : map[CharType]State{
            char_intger : state_exp_int,
            char_space : state_end,
        },
        state_end : map[CharType]State{
            char_space : state_end,
        },
    }
    //å­—ç¬¦ä¸²åˆå§‹çŠ¶æ€
    state := state_start
    for i := 0; i < len(s); i++ {
        typ := toCharType(s[i])
        if _, ok := transfer[state][typ]; !ok {
            return false
        } else {
            state = transfer[state][typ]
        }
        fmt.Println(state)
    }
    fmt.Print(state==state_point)
    return state == state_int || state == state_float || state == state_point || state == state_exp_int || state == state_end
}
```