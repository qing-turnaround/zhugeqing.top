---
date: 2021-11-10
description: "ç”Ÿå‘½æ²¡æœ‰æé™ï¼Œé™¤éä½ è‡ªå·±å®šä¹‰"
image: "images/recommend_site/xingyouji.jpg"
title: "æœ€å°ç¼–è¾‘ä»£ä»·"
author: å·¦ç¨‹äº‘
authorEmoji: ğŸ˜ƒ
pinned: true
tags:
- 
series:
-
---

`æœ€å°ç¼–è¾‘ä»£ä»·`æ˜¯[ç¼–è¾‘è·ç¦»](https://leetcode-cn.com/problems/edit-distance/)çš„å˜å½¢é¢˜ç›®

## é¢˜ç›®
<font color=SkyBlue>
ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²str1å’Œstr2ï¼Œå†ç»™å®šä¸‰ä¸ªæ•´æ•°icã€dcå’Œrcï¼Œåˆ†åˆ«ä»£è¡¨æ’å…¥ã€åˆ é™¤å’Œæ›¿æ¢ä¸€ä¸ªå­—ç¬¦çš„ä»£ä»·ï¼Œè¿”å›å°†str1ç¼–è¾‘æˆstr2çš„æœ€å°ä»£ä»·ã€‚

ã€ä¸¾ä¾‹ã€‘
str1="abc"ï¼Œstr2="adc"ï¼Œic=5ï¼Œdc=3ï¼Œrc=2ã€‚
ä»"abc"ç¼–è¾‘æˆ"adc"ï¼ŒæŠŠ'b'æ›¿æ¢æˆ'd'æ˜¯ä»£ä»·æœ€å°çš„ï¼Œæ‰€ä»¥è¿”å›2ã€‚
str1="abc"ï¼Œstr2="adc"ï¼Œic=5ï¼Œdc=3ï¼Œrc=100ã€‚
ä»"abc"ç¼–è¾‘æˆ"adc"ï¼Œå…ˆåˆ é™¤'b'ï¼Œç„¶åæ’å…¥'d'æ˜¯ä»£ä»·æœ€å°çš„ï¼Œæ‰€ä»¥è¿”å›8ã€‚
str1="abc"ï¼Œstr2="abc"ï¼Œic=5ï¼Œdc=3ï¼Œrc=2ã€‚
ä¸ç”¨ç¼–è¾‘äº†ï¼Œæœ¬æ¥å°±æ˜¯ä¸€æ ·çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è¿”å›0ã€‚
</font>

## è§£æ³•

<font color=SkyBlue>
å¦‚æœstr1çš„é•¿åº¦ä¸ºMï¼Œstr2çš„é•¿åº¦ä¸ºNï¼Œç»å…¸åŠ¨æ€è§„åˆ’çš„æ–¹æ³•å¯ä»¥è¾¾åˆ°æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆMÃ—Nï¼‰ï¼Œé¢å¤–ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆMÃ—Nï¼‰ã€‚å¦‚æœç»“åˆç©ºé—´å‹ç¼©çš„æŠ€å·§ï¼Œå¯ä»¥æŠŠé¢å¤–ç©ºé—´å¤æ‚åº¦å‡è‡³Oï¼ˆmin{Mï¼ŒN}ï¼‰ã€‚
å…ˆæ¥ä»‹ç»ç»å…¸åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ã€‚é¦–å…ˆç”Ÿæˆå¤§å°ä¸ºï¼ˆM+1ï¼‰Ã—ï¼ˆN+1ï¼‰çš„çŸ©é˜µdpï¼Œdp[i][j]çš„å€¼ä»£è¡¨str1[0..i-1]ç¼–è¾‘æˆstr2[0..j-1]çš„æœ€å°ä»£ä»·ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œstr1="ab12cd3"ï¼Œstr2="abcdf"ï¼Œic=5ï¼Œdc=3ï¼Œrc=2ã€‚dpæ˜¯ä¸€ä¸ª8Ã—6çš„çŸ©é˜µï¼Œæœ€ç»ˆè®¡ç®—ç»“æœå¦‚ä¸‹

<img src="/images/quality_question/edit-distance-1.jpg" width="50%" height="50%">
<img src="/images/quality_question/edit-distance-2.jpg" width="50%" height="50%">

ä¸‹é¢å…·ä½“è¯´æ˜dpçŸ©é˜µæ¯ä¸ªä½ç½®çš„å€¼æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚
1. dp[0][0]=0ï¼Œè¡¨ç¤ºstr1ç©ºçš„å­ä¸²ç¼–è¾‘æˆstr2ç©ºçš„å­ä¸²çš„ä»£ä»·ä¸º0ã€‚
2. çŸ©é˜µdpç¬¬ä¸€åˆ—å³dp[0..M-1][0]ã€‚dp[i][0]è¡¨ç¤ºstr1[0..i-1]ç¼–è¾‘æˆç©ºä¸²çš„æœ€å°ä»£ä»·ï¼Œæ¯«æ— ç–‘é—®ï¼Œæ˜¯æŠŠstr1[0..i-1]æ‰€æœ‰çš„å­—ç¬¦åˆ æ‰çš„ä»£ä»·ï¼Œæ‰€ä»¥dp[i][0]=dc*iã€‚
3. çŸ©é˜µdpç¬¬ä¸€è¡Œå³dp[0][0..N-1]ã€‚dp[0][j]è¡¨ç¤ºç©ºä¸²ç¼–è¾‘æˆstr2[0..j-1]çš„æœ€å°ä»£ä»·ï¼Œæ¯«æ— ç–‘é—®ï¼Œæ˜¯åœ¨ç©ºä¸²é‡Œæ’å…¥str2[0..j-1]æ‰€æœ‰å­—ç¬¦çš„ä»£ä»·ï¼Œæ‰€ä»¥dp[0][j]=ic*jã€‚
4. å…¶ä»–ä½ç½®æŒ‰ç…§ä»å·¦åˆ°å³ï¼Œå†ä»ä¸Šåˆ°ä¸‹æ¥è®¡ç®—ï¼Œdp[i][j]çš„å€¼åªå¯èƒ½æ¥è‡ªä»¥ä¸‹å››ç§æƒ…å†µã€‚
    * str1[0..i-1]å¯ä»¥å…ˆç¼–è¾‘æˆstr1[0..i-2]ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤å­—ç¬¦str1[i-1]ï¼Œç„¶åç”±str1[0..i-2]ç¼–è¾‘æˆ str2[0..j-1]ï¼Œdp[i-1][j]è¡¨ç¤º str1[0..i-2]ç¼–è¾‘æˆ str2[0..j-1]çš„æœ€å°ä»£ä»·ï¼Œé‚£ä¹ˆdp[i][j]å¯èƒ½ç­‰äºdc+dp[i-1][j]ã€‚
    * str1[0..i-1]å¯ä»¥å…ˆç¼–è¾‘æˆstr2[0..j-2]ï¼Œç„¶åå°†str2[0..j-2]æ’å…¥å­—ç¬¦str2[j-1]ï¼Œç¼–è¾‘æˆstr2[0..j-1]ï¼Œdp[i][j-1]è¡¨ç¤º str1[0..i-1]ç¼–è¾‘æˆ str2[0..j-2]çš„æœ€å°ä»£ä»·ï¼Œé‚£ä¹ˆ dp[i][j]å¯èƒ½ç­‰äºdp[i][j-1]+icã€‚
    * å¦‚æœstr1[i-1]ï¼=str2[j-1]ã€‚å…ˆæŠŠstr1[0..i-1]ä¸­str1[0..i-2]çš„éƒ¨åˆ†å˜æˆstr2[0..j-2]ï¼Œç„¶åæŠŠå­—ç¬¦str1[i-1]æ›¿æ¢æˆstr2[j-1]ï¼Œè¿™æ ·str1[0..i-1]å°±ç¼–è¾‘æˆstr2[0..j-1]äº†ã€‚dp[i-1][j-1]è¡¨ç¤ºstr1[0..i-2]ç¼–è¾‘æˆstr2[0..i-2]çš„æœ€å°ä»£ä»·ï¼Œé‚£ä¹ˆdp[i][j]å¯èƒ½ç­‰äºdp[i-1][j-1]+rcã€‚
    * å¦‚æœ str1[i-1]==str2[j-1]ã€‚å…ˆæŠŠ str1[0..i-1]ä¸­ str1[0..i-2]çš„éƒ¨åˆ†å˜æˆ str2[0..j-2]ï¼Œå› ä¸ºæ­¤æ—¶å­—ç¬¦ str1[i-1]ç­‰äº str2[j-1]ï¼Œæ‰€ä»¥ str1[0..i-1]å·²ç»ç¼–è¾‘æˆ str2[0..j-1]äº†ã€‚dp[i-1][j-1]è¡¨ç¤º str1[0..i-2]ç¼–è¾‘æˆ str2[0..i-2]çš„æœ€å°ä»£ä»·ï¼Œé‚£ä¹ˆ dp[i][j]å¯èƒ½ç­‰äºdp[i-1][j-1]ã€‚
5.ä»¥ä¸Šå››ç§å¯èƒ½çš„å€¼ä¸­ï¼Œé€‰æœ€å°å€¼ä½œä¸ºdp[i][j]çš„å€¼ã€‚dpæœ€å³ä¸‹è§’çš„å€¼å°±æ˜¯æœ€ç»ˆç»“æœã€‚

```Go
package main

import "fmt"

func main() {
    var str1, str2 string
    var ic, dc, rc int
    fmt.Scanln(&str1)
    fmt.Scanln(&str2)
    fmt.Scanf("%d %d %d",&ic, &dc, &rc)
    m, n := len(str1), len(str2)    
    //é€‰æ‹©è¾ƒé•¿çš„å­—ç¬¦ä¸²ä½œä¸ºè¡Œå­—ç¬¦ä¸²
    if m < n {
        m, n = n, m
        str1, str2 = str2, str1
        //åŸå­—ç¬¦ä¸²æˆä¸ºçŸ­çš„åˆ—å­—ç¬¦ä¸²ï¼Œéœ€è¦è¿›è¡Œæ›¿æ¢å’Œæ’å…¥æ“ä½œï¼Œæ‰€ä»¥éœ€è¦äº¤æ¢ä¸€ä¸‹icå’Œdc
        ic, dc = dc, ic
    }
    
    dp := make([][]int, m+1)
    for i := range dp {
        dp[i] = make([]int, n+1)
        dp[i][0] = i * dc
    }
    
    for j := range dp[0] {
        dp[0][j] = j * ic
    }
    for i := 1; i <= m; i++ {
        for j := 1; j <= n; j++ {
            if str1[i-1] == str2[j-1] {
                dp[i][j] = dp[i-1][j-1]
            } else {
                dp[i][j] = min(dp[i-1][j]+dc, min(dp[i][j-1]+ic, dp[i-1][j-1]+rc))
            }
        }
    }
    
    fmt.Println(dp[m][n])    
}


func min(a, b int) int {
    if a > b {
        return b
    }
    
    return a
}
```

`å‹ç¼©çŠ¶æ€`

```Go
package main

import "fmt"

func main() {
    var str1, str2 string
    var ic, dc, rc int
    fmt.Scanln(&str1)
    fmt.Scanln(&str2)
    fmt.Scanf("%d %d %d",&ic, &dc, &rc)
    m, n := len(str1), len(str2)
    if m < n {
        m, n = n, m
        str1, str2 = str2, str1
        //éœ€è¦äº¤æ¢icä¸dc
        ic, dc = dc, ic
    }
    //å‹ç¼©çŠ¶æ€
    dp := make([]int, n+1)
    //base caseï¼ˆå¤„ç†ç©ºå­—ç¬¦ä¸²çš„word1, word2å­å­—ç¬¦ä¸²çš„ç¼–è¾‘è®°å½•ï¼‰
    for i := 1; i <= n; i++ {
        dp[i] = i * ic
    }
   
    pre := 0 //è®°å½•dp[i-1][j-1]
    //çŠ¶æ€è½¬ç§»æ–¹ç¨‹

    for i := 1; i <= m; i++ {
        dp[0], pre = i * dc, dp[0]
        for j := 1; j <= n; j++ {
            if str1[i-1] == str2[j-1] {
                dp[j], pre = pre, dp[j]
            } else {
                dp[j], pre = min(dp[j]+dc, min(dp[j-1]+ic, pre+rc)), dp[j]
            }
        }
    }
    fmt.Println(dp[n]) 
}

// func minDistance(str1, str2 string, ic, dc, rc int) int {
//     //åŠ¨æ€è§„åˆ’
//     //çŠ¶æ€å®šä¹‰
//     //dp[i][j]è¡¨ç¤ºstr1[0:i+1]ä¸str2[0:j+1]çš„ç¼–è¾‘è·ç¦»
 
// }

func min(a, b int) int {
    if a < b {
        return a
    }

    return b
}
```
</font>

