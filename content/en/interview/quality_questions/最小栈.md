---
date: 2021-11-23
description: "ç”Ÿå‘½æ²¡æœ‰æé™ï¼Œé™¤éä½ è‡ªå·±å®šä¹‰"
image: "images/recommend_site/xingyouji.jpg"
title: "è®¾è®¡ä¸€ä¸ªæœ‰getMinåŠŸèƒ½çš„æ ˆ"
author: å·¦ç¨‹äº‘
authorEmoji: ğŸ˜ƒ
pinned: false
tags:
- 
series:
-
---

## é¢˜ç›®
<font color=SkyBlue>
å®ç°ä¸€ä¸ªç‰¹æ®Šçš„æ ˆï¼Œåœ¨å®ç°æ ˆçš„åŸºæœ¬åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼Œå†å®ç°è¿”å›æ ˆä¸­æœ€å°å…ƒç´ çš„æ“ä½œã€‚

è¦æ±‚
1.popã€pushã€getMinæ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯Oï¼ˆ1ï¼‰ã€‚
2.è®¾è®¡çš„æ ˆç±»å‹å¯ä»¥ä½¿ç”¨ç°æˆçš„æ ˆç»“æ„ã€‚
</font>

## è§£æ³•
``åœ¨è®¾è®¡ä¸Šæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªæ ˆç”¨æ¥ä¿å­˜å½“å‰æ ˆä¸­çš„å…ƒç´ ï¼Œå…¶åŠŸèƒ½å’Œä¸€ä¸ªæ­£å¸¸çš„æ ˆæ²¡æœ‰åŒºåˆ«ï¼Œè¿™ä¸ªæ ˆè®°ä¸ºstackDataï¼›å¦ä¸€ä¸ªæ ˆç”¨äºä¿å­˜æ¯ä¸€æ­¥çš„æœ€å°å€¼ï¼Œè¿™ä¸ªæ ˆè®°ä¸ºstackMinã€‚å…·ä½“çš„å®ç°æ–¹å¼æœ‰ä¸¤ç§ã€‚``
### å®ç°æ–¹å¼ä¸€

* ``å‹å…¥æ•°æ®è§„åˆ™``
å‡è®¾å½“å‰æ•°æ®ä¸º``newNum``ï¼Œå…ˆå°†å…¶å‹å…¥``stackData``ã€‚ç„¶ååˆ¤æ–­``stackMin``æ˜¯å¦ä¸ºç©ºï¼š
* å¦‚æœä¸ºç©ºï¼Œåˆ™``newNum``ä¹Ÿå‹å…¥``stackMin``ã€‚
* å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™æ¯”è¾ƒ``newNum``å’Œ``stackMin``çš„æ ˆé¡¶å…ƒç´ ä¸­å“ªä¸€ä¸ªæ›´å°ï¼š
* å¦‚æœ``newNum``æ›´å°æˆ–ä¸¤è€…ç›¸ç­‰ï¼Œåˆ™``newNum``ä¹Ÿå‹å…¥``stackMin``ï¼›
* å¦‚æœ``stackMin``ä¸­æ ˆé¡¶å…ƒç´ å°ï¼Œåˆ™``stackMin``ä¸å‹å…¥ä»»ä½•å†…å®¹ã€‚

ä¸¾ä¾‹ï¼šä¾æ¬¡å‹å…¥3ã€4ã€5ã€1ã€2ã€1çš„è¿‡ç¨‹ä¸­ï¼ŒstackDataå’ŒstackMinçš„å˜åŒ–å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

<img src="/images/quality_question/min-stack-1.png" width="50%" height="50%">

<font color=SkyBlue>   </font>

* ``å¼¹å‡ºæ•°æ®è§„åˆ™``
* å…ˆåœ¨``stackData``ä¸­å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œè®°ä¸º``value``ã€‚ç„¶åæ¯”è¾ƒå½“å‰``stackMin``çš„æ ˆé¡¶å…ƒç´ å’Œ``value``å“ªä¸€ä¸ªæ›´å°ã€‚
é€šè¿‡ä¸Šæ–‡æåˆ°çš„å‹å…¥è§„åˆ™å¯çŸ¥ï¼Œ``stackMin``ä¸­å­˜åœ¨çš„å…ƒç´ æ˜¯ä»æ ˆåº•åˆ°æ ˆé¡¶é€æ¸å˜å°çš„ï¼Œ``stackMin``æ ˆé¡¶çš„å…ƒç´ æ—¢æ˜¯``stackMin``æ ˆçš„æœ€å°å€¼ï¼Œä¹Ÿæ˜¯å½“å‰``stackData``æ ˆçš„æœ€å°å€¼ã€‚æ‰€ä»¥ä¸ä¼šå‡ºç°``value``æ¯”``stackMin``çš„æ ˆé¡¶å…ƒç´ æ›´å°çš„æƒ…å†µï¼Œvalueåªå¯èƒ½å¤§äºæˆ–ç­‰äº``stackMin``çš„æ ˆé¡¶å…ƒç´ ã€‚
* å½“``value``ç­‰äº``stackMin``çš„æ ˆé¡¶å…ƒç´ æ—¶ï¼Œ``stackMin``å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼›å½“``value``å¤§äº``stackMin``çš„æ ˆé¡¶å…ƒç´ æ—¶ï¼Œ``stackMin``ä¸å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼›è¿”å›``value``ã€‚
å¾ˆæ˜æ˜¾å¯ä»¥çœ‹å‡ºï¼Œå‹å…¥ä¸å¼¹å‡ºè§„åˆ™æ˜¯å¯¹åº”çš„ã€‚

* `` æŸ¥è¯¢å½“å‰æ ˆä¸­çš„æœ€å°å€¼æ“ä½œ``
ç”±ä¸Šæ–‡çš„å‹å…¥æ•°æ®è§„åˆ™å’Œå¼¹å‡ºæ•°æ®è§„åˆ™å¯çŸ¥ï¼Œ``stackMin``å§‹ç»ˆè®°å½•ç€``stackData``ä¸­çš„æœ€å°å€¼ï¼Œæ‰€ä»¥ï¼Œ``stackMin``çš„æ ˆé¡¶å…ƒç´ å§‹ç»ˆæ˜¯å½“å‰``stackData``ä¸­çš„æœ€å°å€¼ã€‚

```Go
type MinStack struct {
    //æ™®é€šæ ˆï¼ˆåè¿›å…ˆå‡ºï¼‰
    stackData []int
    //è¾…åŠ©æ ˆï¼Œç»´æŠ¤ä¸€ä¸ªæœ€å°å…ƒç´ åœ¨dataæ ˆç›¸å¯¹é¡ºåºçš„æ ˆ
    stackMin []int
    //è®°å½•å½“å‰ä¸¤ä¸ªæ ˆçš„å¤§å°ï¼Œå‡å°‘éå†
    lengthData, lengthMin int
}


/** initialize your data structure here. */
func Constructor() MinStack {
    return MinStack{
        stackData : []int{},
        //åŠ ä¸€ä¸ªint64æœ€å¤§å€¼ï¼Œå¯ä»¥å‡å°‘å¯¹minæ ˆä¸ºç©ºçš„åˆ¤æ–­
        stackMin  : []int{math.MaxInt64},
        lengthMin : 1,
    }
}


func (this *MinStack) Push(x int)  {
    this.stackData = append(this.stackData, x)
    this.lengthData++

    //æœ€å°å…ƒç´ å¤§äºxæ—¶æ— éœ€åŠ å…¥
    if this.stackMin[this.lengthMin-1] >= x{
        this.stackMin = append(this.stackMin, x)
        this.lengthMin++
    }    
}

func (this *MinStack) Pop()  {
    x := this.stackData[this.lengthData-1]
    //å‡ºæ ˆ
    this.stackData = this.stackData[:this.lengthData-1]
    this.lengthData--
    //è‹¥dataæ ˆå‡ºæ ˆçš„å…ƒç´ æ˜¯æœ€å°å…ƒç´ ï¼Œé‚£ä¹ˆminæ ˆä¹Ÿéœ€è¦è¿›è¡Œå¼¹å‡ºæ“ä½œ
    if this.stackMin[this.lengthMin-1] == x {
        this.stackMin = this.stackMin[:this.lengthMin-1]
        this.lengthMin--
    }
}


func (this *MinStack) Top() int {
    return this.stackData[this.lengthData-1]
}


func (this *MinStack) GetMin() int {
    return this.stackMin[this.lengthMin-1]
}
```

### å®ç°æ–¹å¼äºŒ
* ``å‹å…¥æ•°æ®è§„åˆ™``
å‡è®¾å½“å‰æ•°æ®ä¸º``newNum``ï¼Œå…ˆå°†å…¶å‹å…¥``stackData``ã€‚ç„¶ååˆ¤æ–­``stackMin``æ˜¯å¦ä¸ºç©ºã€‚
* å¦‚æœä¸ºç©ºï¼Œåˆ™``newNum``ä¹Ÿå‹å…¥``stackMin``ï¼›å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™æ¯”è¾ƒ``newNum``å’Œ``stackMin``çš„æ ˆé¡¶å…ƒç´ ä¸­å“ªä¸€ä¸ªæ›´å°ï¼šå¦‚æœnewNumæ›´å°æˆ–ä¸¤è€…ç›¸ç­‰ï¼Œåˆ™``newNum``ä¹Ÿå‹å…¥``stackMin``ï¼›å¦‚æœ``stackMin``ä¸­æ ˆé¡¶å…ƒç´ å°ï¼Œåˆ™æŠŠ``stackMin``çš„æ ˆé¡¶å…ƒç´ é‡å¤å‹å…¥``stackMin``ï¼Œå³åœ¨æ ˆé¡¶å…ƒç´ ä¸Šå†å‹å…¥ä¸€ä¸ªæ ˆé¡¶å…ƒç´ ã€‚
ä¸¾ä¾‹ï¼šä¾æ¬¡å‹å…¥3ã€4ã€5ã€1ã€2ã€1çš„è¿‡ç¨‹ä¸­ï¼ŒstackDataå’ŒstackMinçš„å˜åŒ–å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

<img src="/images/quality_question/min-stack-2.png" width="50%" height="50%">

* å¼¹å‡ºæ•°æ®è§„åˆ™
åœ¨``stackData``ä¸­å¼¹å‡ºæ•°æ®ï¼Œå¼¹å‡ºçš„æ•°æ®è®°ä¸º``value``ï¼›å¼¹å‡º``stackMin``ä¸­çš„æ ˆé¡¶ï¼›è¿”å›``value``ã€‚
å¾ˆæ˜æ˜¾å¯ä»¥çœ‹å‡ºï¼Œå‹å…¥ä¸å¼¹å‡ºè§„åˆ™æ˜¯å¯¹åº”çš„

* æŸ¥è¯¢å½“å‰æ ˆä¸­çš„æœ€å°å€¼æ“ä½œ
ç”±ä¸Šæ–‡çš„å‹å…¥æ•°æ®è§„åˆ™å’Œå¼¹å‡ºæ•°æ®è§„åˆ™å¯çŸ¥ï¼Œ``stackMin``å§‹ç»ˆè®°å½•ç€``stackData``ä¸­çš„æœ€å°å€¼ï¼Œæ‰€ä»¥``stackMin``çš„æ ˆé¡¶å…ƒç´ å§‹ç»ˆæ˜¯å½“å‰``stackData``ä¸­çš„æœ€å°å€¼ã€‚

```Go
type MinStack struct {
    //ä¿å­˜å½“å‰æ ˆçš„å…ƒç´ 
    stackData []int 
    //ä¿å­˜æ¯ä¸€æ­¥çš„æœ€å°å€¼
    stackMin []int
    //è®°å½•å½“å‰ä¸¤ä¸ªæ ˆçš„å¤§å°ï¼Œå‡å°‘éå†
    lengthData, lengthMin int
}


/** initialize your data structure here. */
func Constructor() MinStack {
    //ç»™stackMinä¸€ä¸ªåˆå§‹å…ƒç´ ï¼Œæ˜¯ä¸ºäº†å‡å°‘åˆ¤æ–­stackMinä¸ºç©ºçš„æƒ…å†µ
    return MinStack{stackMin: []int{math.MaxInt64}, lengthMin: 1}
}


func (this *MinStack) Push(x int)  {
    this.stackData = append(this.stackData, x)
    //å‹å…¥æ ˆï¼Œå°†æ ˆé¡¶å…ƒç´ å’Œæ–°å…ƒç´ æ¯”è¾ƒï¼Œå‹å…¥æœ€å°çš„å…ƒç´ 
    this.stackMin = append(this.stackMin, min(x, this.stackMin[this.lengthMin-1]))
    this.lengthData++
    this.lengthMin++
}


func (this *MinStack) Pop()  {
    this.stackData = this.stackData[:this.lengthData-1]
    this.stackMin = this.stackMin[:this.lengthMin-1]    
    this.lengthMin--; this.lengthData--
}


func (this *MinStack) Top() int {
    return this.stackData[this.lengthData-1]
}


func (this *MinStack) GetMin() int {
    return this.stackMin[this.lengthMin-1]
}

func min(a, b int) int {
    if a < b {
        return a
    }
    return b
}
```

## æ€»ç»“
æ–¹æ¡ˆä¸€å’Œæ–¹æ¡ˆäºŒå…¶å®éƒ½æ˜¯ç”¨``stackMin``æ ˆä¿å­˜ç€``stackData``æ¯ä¸€æ­¥çš„æœ€å°å€¼ã€‚å…±åŒç‚¹æ˜¯æ‰€æœ‰æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º``Oï¼ˆ1ï¼‰``ã€ç©ºé—´å¤æ‚åº¦éƒ½ä¸º``Oï¼ˆnï¼‰``ã€‚åŒºåˆ«æ˜¯ï¼šæ–¹æ¡ˆä¸€ä¸­``stackMin``å‹å…¥æ—¶ç¨çœç©ºé—´ï¼Œä½†æ˜¯å¼¹å‡ºæ“ä½œç¨è´¹æ—¶é—´ï¼›æ–¹æ¡ˆäºŒä¸­``stackMin``å‹å…¥æ—¶ç¨è´¹ç©ºé—´ï¼Œä½†æ˜¯å¼¹å‡ºæ“ä½œç¨çœæ—¶é—´