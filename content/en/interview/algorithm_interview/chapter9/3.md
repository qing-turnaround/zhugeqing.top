---
date: 2020-12-12T12:00:54+09:00
description: "å¦‚æœè¯´æ•°å­¦æ˜¯çš‡å† ä¸Šçš„ä¸€é¢—æ˜ç ï¼Œé‚£ä¹ˆç®—æ³•å°±æ˜¯è¿™é¢—æ˜ç ä¸Šçš„å…‰èŠ’ï¼Œç®—æ³•è®©è¿™é¢—æ˜ç æ›´åŠ ç† ç† ç”Ÿè¾‰ï¼Œä¸ºç§‘æŠ€è¿›æ­¥å’Œç¤¾ä¼šå‘å±•ç…§äº®äº†å‰è¿›çš„è·¯"
image: "images/recommend_site/xingyouji.jpg"
title: "ç¬¬ä¹ç« ç¬¬ä¸‰èŠ‚"
author: è¯¸è‘›é’
authorEmoji: ğŸ…
pinned: false
tags:
- ç®—æ³•
series:
-   
---

[198. æ‰“å®¶åŠ«èˆ](https://leetcode-cn.com/problems/house-robber/)
```golang
func rob(nums []int) int {
	//åŠ¨æ€è§„åˆ’
	n := len(nums)

    if n == 1{
        return nums[0]
    }

	dp := make([]int, n)
	//dp[i]è¡¨ç¤ºä»å‰ié—´æˆ¿å­é‡Œé¢èƒ½å·ç›—çš„æœ€å¤§å€¼
	dp[0] = nums[0]
	dp[1] = max(dp[0], nums[1])

	for i:=2;i<n;i++{
        //çŠ¶æ€è½¬ç§»æ–¹ç¨‹
		dp[i] = max(nums[i]+dp[i-2], dp[i-1])
	}

	return dp[n-1]
}

func max(a,b int)int{
	if a > b{
		return a
	}
	return b
}
```

[213. æ‰“å®¶åŠ«èˆ II](https://leetcode-cn.com/problems/house-robber-ii/)
```golang
func MaxDp(a int, b int) int {
	if a > b {
		return a
	}
	return b
}

//åŒºåˆ«äºæ‰“å®¶åŠ«èˆä¸€ï¼Œä¸èƒ½åŒæ—¶å·ç›—ç¬¬ä¸€é—´å’Œæœ€åä¸€é—´
func rob(nums []int) int {

    if len(nums) == 1{
        return nums[0]
    }

	pre := 0
    curr := nums[0] //ç±»ä¼¼dp[0]
	res1 := curr   //1â€”â€”(n-1)
	for i := 2; i < len(nums); i++ { //dp[i]æœ€é«˜ä¸ºdp[n-1]
		res1 = MaxDp(curr, pre+nums[i-1])
		pre,curr = curr,res1
	}

	pre = 0
	curr = nums[1]
    res2 := curr //2â€”â€”n

	for i := 3; i <= len(nums); i++ { //dp[i]æœ€é«˜ä¸ºdp[n-1]
		res2 = MaxDp(curr, pre+nums[i-1])
		pre,curr = curr,res2
	}
	return MaxDp(res1, res2)
}
```

[337. æ‰“å®¶åŠ«èˆ III](https://leetcode-cn.com/problems/house-robber-iii/)
```golang
func rob(root *TreeNode) int {
    val := dfs(root)
    return max(val[0], val[1])
}

//åŠ¨æ€è§„åˆ’
//ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„
//0è¡¨ç¤ºé€‰ä¸­,1è¡¨ç¤ºä¸é€‰ä¸­è¯¥èŠ‚ç‚¹
func dfs(node *TreeNode) []int {
    if node == nil {
        return []int{0, 0}
    }
    l, r := dfs(node.Left), dfs(node.Right)
    //é€‰æ‹©root,åˆ™ä¸é€‰æ‹©lå’Œr
    selected := node.Val + l[1] + r[1]
    //ä¸é€‰æ‹©root,åˆ™å¯ä»¥é€‰æ‹©lå’Œræˆ–è€…ä¸é€‰æ‹©lå’Œrï¼Œå–æœ€å¤§å€¼
    notSelected := max(l[0], l[1]) + max(r[0], r[1])
    return []int{selected, notSelected}
}

func max(x, y int) int {
    if x > y {
        return x
    }
    return y
}
```

[121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/)
```golang
func maxProfit(prices []int) int {
	//åŠ¨æ€è§„åˆ’
	//dp[k][status],kè¡¨ç¤ºå½“å‰æ˜¯ç¬¬å‡ å¤©(ä»0å¼€å§‹)ï¼Œstatusè¡¨ç¤ºæŒæœ‰çŠ¶æ€ï¼Œ1è¡¨ç¤ºæŒæœ‰ï¼Œ0è¡¨ç¤ºä¸æŒæœ‰
	//ç¬¬kå¤©çŠ¶æ€ä¸º0çš„æœ€å¤§åˆ©æ¶¦
	n := len(prices)
    dp_i_0 := 0
    dp_i_1 := -prices[0]

	for i := 1; i < n; i++ {
		dp_i_0 = max(dp_i_0, dp_i_1+prices[i])
		dp_i_1 = max(dp_i_1, -prices[i])
	}

	return dp_i_0
}

func max(a, b int) int {
	if a > b {
		return a
	}

	return b
}
```

[122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/)
```golang
func maxProfit(prices []int) int {
	//åŠ¨æ€è§„åˆ’
	//dp[k][status],kè¡¨ç¤ºå½“å‰æ˜¯ç¬¬å‡ å¤©(ä»0å¼€å§‹)ï¼Œstatusè¡¨ç¤ºæŒæœ‰çŠ¶æ€ï¼Œ1è¡¨ç¤ºæŒæœ‰ï¼Œ0è¡¨ç¤ºä¸æŒæœ‰
	//ç¬¬kå¤©çŠ¶æ€ä¸º0çš„æœ€å¤§åˆ©æ¶¦
	n := len(prices)

    //ä¸é™åˆ¶äº¤æ˜“æ—¶ï¼Œå½“ kæ— ç©·å¤§æ—¶ï¼Œkç­‰äºk-1
	dp_0_0 := 0 //ç¬¬0å¤©ä¸æŒæœ‰è‚¡ç¥¨
	dp_0_1 := -prices[0] //ç¬¬

	for i := 1; i < n; i++ {
        //è®°å½•ä¹‹å‰çš„dp[i-1][0]
        temp := dp_0_0
		dp_0_0 = max(dp_0_0, dp_0_1+prices[i])
		dp_0_1 = max(dp_0_1, temp-prices[i])
	}

	return dp_0_0
}

func max(a, b int) int {
	if a > b {
		return a
	}

	return b
}
```

[123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/)
```golang
func maxProfit(prices []int) int {
    //åŠ¨æ€è§„åˆ’
    //å®šä¹‰æœ€ä¼˜å­ç»“æ„
    //iè¡¨ç¤ºç¬¬å¤šå°‘å¤©(ä»1å¼€å§‹)ï¼Œkè¡¨ç¤ºç¬¬å‡ æ¬¡äº¤æ˜“(ä»1å¼€å§‹)ï¼Œstatusè¡¨ç¤ºå½“å‰è‚¡ç¥¨çš„æ˜¯å¦æŒæœ‰
    //dp[i][k][status]
    n := len(prices)
    //4 ä¸ª base case
    //å½“kä¸º2æ—¶
    // dp[0][2][0] = 0
    dp_0_2_0 := 0
    // dp[0][2][1] = math.MinInt64
    dp_0_2_1 := math.MinInt64
    // dp[0][1][0] = 0
    dp_0_1_0 := 0
    // dp[0][1][1] = math.MinInt64
    dp_0_1_1 := math.MinInt64
    for i:=0;i<n;i++{
            dp_0_2_0 = max(dp_0_2_0,dp_0_2_1+prices[i])
            dp_0_2_1 = max(dp_0_2_1,dp_0_1_0-prices[i])

            dp_0_1_0 = max(dp_0_1_0,dp_0_1_1+prices[i])
            dp_0_1_1 = max(dp_0_1_1,-prices[i])

    }

    return dp_0_2_0
}

func max(a,b int)int{
    if a > b{
        return a
    }

    return b
}
```

[188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/)
```golang
func maxProfit(k int, prices []int) int {
    //åŠ¨æ€è§„åˆ’
    n := len(prices)
    //å½“kå¤§äºn/2æ—¶ï¼Œå› ä¸ºä¸€æ¬¡äº¤æ˜“è‡³å°‘è¦ä¸¤å¤©ï¼ˆå…ˆä¹°åå–ï¼‰ï¼Œkå¯ä»¥çœ‹ä½œæ— é™è¶‹è¿‘äºæ— ç©·å¤§
    if k > n/2{
       return maxProfitInfinite(k,prices)
    }
    //dp[i][k][status]
    dp := make([][][]int,n)
    for i:=0;i<n;i++{
        dp[i] = make([][]int,k+1)
    }
    for i:=0;i<n;i++{
        for j:=0;j<k+1;j++{
            dp[i][j] = make([]int,2)
        }
    }
    
    //base case
    for i:=1;i<=k;i++{
        dp[0][i][0] =  0
        dp[0][i][1] = -prices[0]
    }
    for i:=1;i<n;i++{
        for j:=k;j>=1;j--{
            dp[i][j][0] = max(dp[i-1][j][0],dp[i-1][j][1]+prices[i])
            dp[i][j][1] = max(dp[i-1][j][1],dp[i-1][j-1][0]-prices[i])
        }
    }

    return dp[n-1][k][0]
}

func max(a,b int)int{
    if a > b{
        return a
    }

    return b
}

func maxProfitInfinite(k int,prices []int)int{
    n := len(prices)
    //åŠ¨æ€è§„åˆ’ï¼Œçœå»k
    //dp[i][status]ï¼Œiè¡¨ç¤ºç¬¬å¤šå°‘å¤©ï¼Œstatusè¡¨ç¤ºè‚¡ç¥¨æŒæœ‰æƒ…å†µ
    //base case
    //ä»0å¤©å¼€å§‹è®¡ç®—æ³•ï¼Œbase caseæ˜¯-1å¤©çš„æƒ…å†µ
    dp_i_0_0 := 0
    dp_i_0_1 := math.MinInt64 
    for i:=0;i<n;i++{
        dp_i_0_0 = max(dp_i_0_0,dp_i_0_1+prices[i])
        dp_i_0_1 = max(dp_i_0_1,dp_i_0_0-prices[i])
    }

    return dp_i_0_0
}
```

[309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/)
```golang
func maxProfit(prices []int) int {
    //åŠ¨æ€è§„åˆ’
    //dp[i][k][status]
    //iè¡¨ç¤ºç¬¬iå¤©,kè¡¨ç¤ºç¬¬kæ¬¡äº¤æ˜“(ä¸é™åˆ¶äº¤æ˜“å¯ä»¥çœ‹ä½œæ— ç©·æ¬¡ï¼Œç›´æ¥çœå»k),statusè¡¨ç¤ºæŒæœ‰è‚¡ç¥¨æƒ…å†µ,0è¡¨ç¤ºä¸æŒæœ‰,1è¡¨ç¤ºæŒæœ‰
    n := len(prices)
    if n == 1{
        return 0
    }
    dp := make([][]int,n)
    for i:=0;i<n;i++{
        dp[i] = make([]int,2)
    }
    //base case
    //ç¬¬-1å¤©ä¸æŒæœ‰è‚¡ç¥¨ï¼Œåˆ©æ¶¦ä¸º0(dp[i-1][0])
    dp_i_0 := 0
    //ç¬¬-1å¤©æŒæœ‰è‚¡ç¥¨ï¼Œåˆ©æ¶¦ä¸ºmath.MinInt64(ä¸å¯èƒ½)dp[i-1][1]
    dp_i_1 := math.MinInt64
    //ç”¨æ¥è¡¨ç¤ºdp[i-2][0]
    pre := 0
    for i:=0;i<n;i++{
        //çŠ¶æ€è½¬ç§»æ–¹ç¨‹
        //tempéœ€è¦è®°å½•ä¸‹ä¸€æ¬¡èµ‹ç»™preçš„å€¼
        temp := dp_i_0
        dp_i_0 = max(dp_i_0,dp_i_1+prices[i]) 
        dp_i_1 = max(dp_i_1,pre-prices[i])
        pre = temp
    }

    return dp_i_0
}

func max(a,b int)int{
    if a > b{
        return a
    }
    return b
}
```

[714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)
```golang
func maxProfit(prices []int, fee int) int {
	//åŠ¨æ€è§„åˆ’
	//ä¸å‰é¢è‚¡ç¥¨ä¸åŒç‚¹ï¼šå–å‡ºè‚¡ç¥¨æ—¶éœ€è¦æ”¯ä»˜ä¸€ç¬”è´¹ç”¨
	//dp[i][j][status]
	n := len(prices)

	dp_0_0 := 0
	dp_0_1 := -prices[0]

	for i := 1; i < n; i++ {
		temp := dp_0_0
		dp_0_0 = max(dp_0_0, dp_0_1+prices[i]-fee)
		dp_0_1 = max(dp_0_1, temp-prices[i])
	}

	return dp_0_0
}

func max(a, b int) int {
	if a > b {
		return a
	}

	return b
}
```
