---
date: 2020-12-12T12:00:04+09:00
description: "从零蛋开始学习 MySQL"
image: "images/recommend_site/xingyouji.jpg"
title: "子查询"
author: 诸葛青
authorEmoji: 🎅
pinned: false
tags:
- mysql
series:
-  
---

## 标量子查询
```mysql
mysql> SELECT * FROM student_score WHERE number = (SELECT number FROM student_info WHERE name = '杜琦燕');
+----------+-----------------------------+-------+
| number   | subject                     | score |
+----------+-----------------------------+-------+
| 20180102 | 母猪的产后护理              |   100 |
| 20180102 | 论萨达姆的战争准备          |    98 |
+----------+-----------------------------+-------+
2 rows in set (0.01 sec)

mysql>
```
``把第二条查询语句用小括号()扩起来作为一个操作数放到了第一条的搜索条件处``，这样就起到了``合并两条查询语句``的作用。``小括号中的查询语句``也被称为``子查询``或者``内层查询``，``使用内层查询的结果作为搜索条件的操作数的查询``称为``外层查询``。如果你在一个查询语句中需要用到``更多的表``的话，那么在一个子查询中可以继续嵌套另一个子查询，在执行查询语句时，将按照``从内到外``的顺序依次执行这些查询。
{{< alert theme="info" >}}
小贴士： 事实上，所有的子查询都必须用小括号扩起来，否则是非法的。
{{< /alert >}}

在这个例子中的子查询的结果只有一个值(也就是``'杜琦燕'``的学号)，这种子查询称之为标量子查询。正因为标量子查询单纯的代表一个值，所以它可以作为表达式的操作数来参与运算，它除了用在外层查询的搜索条件中以外，也可以被放到查询列表处，比如这样：
```mysql
mysql> SELECT (SELECT number FROM student_info WHERE name = '杜琦燕') AS 学号;
+----------+
| 学号     |
+----------+
| 20180102 |
+----------+
1 row in set (0.00 sec)

mysql>
```

## 列子查询